define(["i18next"],function(n){function u(n){return 0>n?-1:1}function r(t){function r(n,t){var i,r;return t?(i=Math.abs(n.quantity),n.delta!==0&&(r=Math.abs(n.delta/n.unit.millisPerUnit*100),r>u&&(i=i+1)),i):Math.abs(n.quantity)}function f(n,t){var i=e(n);return(Math.abs(r(n,t))===0||Math.abs(r(n,t))>1)&&(i=o(n)),i}function e(n){return n.quantity>=0&&i.futureSingularName&&i.futureSingularName.length?i.futureSingularName:n.quantity<0&&i.pastSingularName&&i.pastSingularName.length?i.pastSingularName:i.singularName}function o(n){return n.quantity>=0&&i.futurePluralName&&i.futurePluralName.length?i.futurePluralName:n.quantity<0&&i.pastPluralName&&i.pastPluralName.length?i.pastPluralName:i.pluralName}function s(n,t,r){var u=i.pattern.replace("%s",n);return u=u.replace("%n",r),u.replace("%u",t)}var u=50,i={pattern:n.t("prettytime:"+t.resourcePrefix+"Pattern"),futurePrefix:n.t("prettytime:"+t.resourcePrefix+"FuturePrefix"),futureSuffix:n.t("prettytime:"+t.resourcePrefix+"FutureSuffix"),pastPrefix:n.t("prettytime:"+t.resourcePrefix+"PastPrefix"),pastSuffix:n.t("prettytime:"+t.resourcePrefix+"PastSuffix"),singularName:n.t("prettytime:"+t.resourcePrefix+"SingularName"),pluralName:n.t("prettytime:"+t.resourcePrefix+"PluralName"),futurePluralName:n.t("prettytime:"+t.resourcePrefix+"FuturePluralName",{defaultValue:""}),futureSingularName:n.t("prettytime:"+t.resourcePrefix+"FutureSingularName",{defaultValue:""}),pastPluralName:n.t("prettytime:"+t.resourcePrefix+"PastPluralName",{defaultValue:""}),pastSingularName:n.t("prettytime:"+t.resourcePrefix+"PastSingularName",{defaultValue:""})};return i.format=function(n,t){t===undefined&&(t=!0);var i=n.quantity<0?"-":"",u=f(n,t),e=r(n,t);return s(i,u,e)},i.formatUnrounded=function(n){return i.format(n,!1)},i.decorate=function(n,t){var r;return r=n.quantity<0?i.pastPrefix+" "+t+" "+i.pastSuffix:i.futurePrefix+" "+t+" "+i.futureSuffix,r.replace(new RegExp("\\s+","g")," ").trim()},i.decorateUnrounded=function(n,t){return i.decorate(n,t)},i}var i,t=function(n){this.reference=n||new Date};return t.prototype.calculateDuration=function(n){for(var s=Math.abs(n),r=this.getUnits(),t={},i=0;i<r.length;i++){var f=r[i],e=Math.abs(f.millisPerUnit),o=Math.abs(f.maxQuantity),h=i===r.length-1;if(o!==0||h||(o=parseInt(r[i+1].millisPerUnit/f.millisPerUnit,10)),e*o>s||h){t.unit=f;e>s?(t.quantity=u(n),t.delta=0):(t.quantity=parseInt(n/e,10),t.delta=n-t.quantity*e);break}}return t},t.prototype.approximateDuration=function(n){if(!(n instanceof Date))throw new Error("Date to approximate is invalid.");var t=n.getTime()-this.reference.getTime();return this.calculateDuration(t)},t.prototype.calculatePreciseDuration=function(n){var u,r;if(!(n instanceof Date))throw new Error("Date to calculate is invalid.");this.removeUnit("JustNow");var i=[],f=n.getTime()-this.reference.getTime(),t=this.calculateDuration(f);for(i.push(t);t.delta!==0;){for(t=this.calculateDuration(t.delta),u=!1,r=0;r<i.length;r++)if(i[r].unit.resourcePrefix===t.unit.resourcePrefix){u=!0;break}u||i.push(t)}return i},t.prototype.format=function(n){if(!n)throw new Error("Please provide a date or a duration");var t=n instanceof Date?this.approximateDuration(n):n,i=r(t.unit),u=i.format(t);return i.decorate(t,u)},t.prototype.formatUnrounded=function(n){if(!n)throw new Error("Please provide a date or a duration");var t=n instanceof Date?this.approximateDuration(n):n,i=r(t.unit),u=i.formatUnrounded(t);return i.decorateUnrounded(t,u)},t.prototype.formatDurations=function(n){var t,i,f,u,e;if(!n)throw new Error("Duration array must not be null.");for(t="",u=0;u<n.length;u++)i=n[u],f=r(i.unit),e=u===n.length-1,t=e?t+f.format(i):t+f.formatUnrounded(i)+" ";return f.decorateUnrounded(i,t)},t.prototype.formatApproximateDuration=function(n){var t=this.approximateDuration(n);return this.formatDuration(t)},t.prototype.formatDuration=function(n){var t=r(n.unit);return t.format(n)},t.prototype.initUnits=function(){i=[{maxQuantity:3e5,millisPerUnit:1,resourcePrefix:"JustNow"},{maxQuantity:0,millisPerUnit:1,resourcePrefix:"Millisecond"},{maxQuantity:0,millisPerUnit:1e3,resourcePrefix:"Second"},{maxQuantity:0,millisPerUnit:6e4,resourcePrefix:"Minute"},{maxQuantity:0,millisPerUnit:36e5,resourcePrefix:"Hour"},{maxQuantity:0,millisPerUnit:864e5,resourcePrefix:"Day"},{maxQuantity:0,millisPerUnit:6048e5,resourcePrefix:"Week"},{maxQuantity:0,millisPerUnit:2629743830,resourcePrefix:"Month"},{maxQuantity:0,millisPerUnit:31556925960,resourcePrefix:"Year"},{maxQuantity:0,millisPerUnit:315569259747,resourcePrefix:"Decade"},{maxQuantity:0,millisPerUnit:3155692597470,resourcePrefix:"Century"},{maxQuantity:0,millisPerUnit:31556926e6,resourcePrefix:"Millennium"}]},t.prototype.getUnits=function(){return i&&i.length||this.initUnits(),i.sort(function(n,t){return n.millisPerUnit<t.millisPerUnit?-1:n.millisPerUnit>t.millisPerUnit?1:0}),i},t.prototype.removeUnit=function(n){var r,t;if(i&&i.length){for(r=-1,t=0;t<i.length;t++)if(i[t].resourcePrefix===n){r=t;break}r>=0&&i.splice(r,1)}},t.prototype.clearUnits=function(){return i=[]},t.prototype.registerUnit=function(n){i.push(n)},t});
/*
//# sourceMappingURL=prettytime.min.js.map
*/